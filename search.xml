<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hexo 教程</title>
      <link href="/2021/07/10/hexo/"/>
      <url>/2021/07/10/hexo/</url>
      
        <content type="html"><![CDATA[<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>安装 <a href="http://git-scm.com/">Git</a><br>安装 <a href="http://nodejs.org/">Node.js</a><br>安装 Hexo</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo init blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p>测试</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>避免缓存影响，每次运行都清空缓存</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p><code>hexo g</code> = <code>hexo generate</code><br><code>hexo s</code> = <code>hexo server</code><br><code>hexo d</code> = <code>hexo deploy</code></p><p>打开：<a href="http://localhost:4000/">http://localhost:4000</a></p><p><img src="/images/hexo-01.png"></p><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>新建仓库<code>&lt;username&gt;.github.io</code> 开放权限 <code>Public</code>，添加本机密钥</p><p>配置网站信息，修改 _config.yml 文件</p><p>repo 是 仓库的 ssh 地址</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">title: 标题</span><br><span class="line">subtitle: 副标题</span><br><span class="line">description: 描述</span><br><span class="line">keywords: 关键字,Hexo</span><br><span class="line">author: &lt;username&gt;</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone: Asia/Shanghai</span><br><span class="line">url: https://www.biji.work</span><br><span class="line">root: /</span><br><span class="line">new_post_name: :year-:month-:day-:title.md</span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:&lt;username&gt;/&lt;username&gt;.github.io.git</span><br></pre></td></tr></table></figure><p>发布</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>打开：https://&lt;username&gt;.github.io</p><h2 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h2><p>新增 <code>CNAME</code> 文件</p><p>在 source 目录下新增 <code>CNAME</code> 文件，内容为二级域名：<code>www.biji.work</code></p><p>添加 <code>CNAME</code> 到 <code>&lt;username&gt;.github.io</code>，一般 10 分钟生效</p><p>域名访问：<a href="http://www.biji.work/">www.biji.work</a></p><h2 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h2><p><a href="https://github.com/Molunerfinn/hexo-theme-melody">Butterfly</a> 蝴蝶🦋</p><p>下载主题，根目录运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule add -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>安装 <code>pug</code> 和 <code>stylus</code> 渲染器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p>进入主题目录 <code>/themes/butterfly</code>，复制配置文件 <code>_config.yml</code> 并改名为 <code>_config.butterfly.yml</code>，再复制到根目录</p><p>修改 <code>_config.butterfly.yml</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">avatar:</span><br><span class="line">  img: /img/avatar.png <span class="comment"># 头像 1:1</span></span><br><span class="line">index_img: /img/top_img.jpg <span class="comment"># 头图-横图</span></span><br><span class="line">default_top_img: /img/top_img.jpg <span class="comment"># 默认头图</span></span><br><span class="line">sharejs:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  sites: wechat,weibo,qq <span class="comment"># 分享渠道</span></span><br></pre></td></tr></table></figure><p><code>source</code> 目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span></span><br><span class="line">├── CNAME <span class="comment"># 域名 www.biji.work</span></span><br><span class="line">├── _data</span><br><span class="line">│   └── link.yml <span class="comment"># 友情链接-数据</span></span><br><span class="line">├── _posts</span><br><span class="line">│   └── hello-world.md <span class="comment"># markdown 源文件</span></span><br><span class="line">├── categories</span><br><span class="line">│   └── index.md <span class="comment"># 分类页面</span></span><br><span class="line">├── images <span class="comment"># 图片</span></span><br><span class="line">│   └── 01.jpg</span><br><span class="line">├── img <span class="comment"># 系统图片</span></span><br><span class="line">│   ├── avatar.png</span><br><span class="line">│   ├── top_img.jpg</span><br><span class="line">├── <span class="built_in">link</span></span><br><span class="line">│   └── index.md <span class="comment"># 友情链接页面</span></span><br><span class="line">└── tags</span><br><span class="line">└── index.md <span class="comment"># 标签页面</span></span><br></pre></td></tr></table></figure><p>搜索</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>修改 <code>_config.butterfly.yml</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">local_search:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  preload: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="/images/hexo-02.png"></p><h2 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h2><p>安装 <code>Giscus</code>，访问：<a href="https://github.com/apps/giscus">https://github.com/apps/giscus</a></p><p><img src="/images/hexo-03.png"></p><p><img src="/images/hexo-04.png"></p><p>启用评论，在项目 <code>https://github.com/&lt;username&gt;/&lt;username&gt;.github.io</code> 中</p><p>勾选 ✅ Settings &gt; Features &gt; Discussions</p><p>检测环境，访问：<a href="https://giscus.app/zh-CN">https://giscus.app/zh-CN</a></p><p><img src="/images/hexo-05.png"></p><p>检测成功后复制配置参数 <code>data-repo</code>、<code>data-repo-id</code>、<code>data-category-id</code></p><p><img src="/images/hexo-06.png"></p><p>修改主题配置文件 _config.butterfly.yml 中对应项</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">comments:</span><br><span class="line">  use: Giscus</span><br><span class="line"><span class="comment"># Giscus</span></span><br><span class="line"><span class="comment"># https://giscus.app/</span></span><br><span class="line">giscus:</span><br><span class="line">  repo: xxx</span><br><span class="line">  repo_id: xxx</span><br><span class="line">  category_id: xxx</span><br></pre></td></tr></table></figure><p><img src="/images/hexo-07.png"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://hexo.io/zh-cn/docs/">Hexo 文档</a></li><li><a href="https://hexo.io/zh-cn/docs/themes">Hexo 主题</a></li><li><a href="https://giscus.app/zh-CN">评论 Giscus</a></li><li><a href="https://butterfly.js.org/">Hutterfly 主题</a></li><li><a href="http://blog.devtang.com/2016/02/16/from-octopress-to-hexo/">从 Octopress 迁移到 Hexo</a></li><li>推荐主题<ul><li><a href="https://fi3ework.github.io/archer-demo/">Archer</a> (网易大牛、猿题库CEO <a href="http://blog.devtang.com/">唐巧</a> 在用)</li><li><a href="https://github.com/next-theme/hexo-theme-next">NexT</a></li><li><a href="https://github.com/Molunerfinn/hexo-theme-melody">Melody</a></li><li><a href="https://github.com/wujun234/hexo-theme-tree">Tree</a></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
